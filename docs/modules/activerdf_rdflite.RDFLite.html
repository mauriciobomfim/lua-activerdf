<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../luadoc.css" type="text/css" />
	<!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
</head>

<body>
<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->

<div id="main">

<div id="navigation">


<h1>LuaDoc</h1>
<ul>
	
	<li><a href="../index.html">Index</a></li>
	
</ul>


<!-- Module list -->

<h1>Modules</h1>
<ul>

	<li>
		<a href="../modules/activerdf.html">activerdf</a>
	</li>

	<li>
		<a href="../modules/activerdf.ActiveRdfAdapter.html">activerdf.ActiveRdfAdapter</a>
	</li>

	<li>
		<a href="../modules/activerdf.ConnectionPool.html">activerdf.ConnectionPool</a>
	</li>

	<li>
		<a href="../modules/activerdf.FederationManager.html">activerdf.FederationManager</a>
	</li>

	<li>
		<a href="../modules/activerdf.Literal.html">activerdf.Literal</a>
	</li>

	<li>
		<a href="../modules/activerdf.NTriplesParser.html">activerdf.NTriplesParser</a>
	</li>

	<li>
		<a href="../modules/activerdf.Namespace.html">activerdf.Namespace</a>
	</li>

	<li>
		<a href="../modules/activerdf.ObjectManager.html">activerdf.ObjectManager</a>
	</li>

	<li>
		<a href="../modules/activerdf.Query.html">activerdf.Query</a>
	</li>

	<li>
		<a href="../modules/activerdf.Query2Jars2.html">activerdf.Query2Jars2</a>
	</li>

	<li>
		<a href="../modules/activerdf.Query2SPARQL.html">activerdf.Query2SPARQL</a>
	</li>

	<li>
		<a href="../modules/activerdf.RDFS.Resource.html">activerdf.RDFS.Resource</a>
	</li>

	<li>
		<a href="../modules/activerdf.string.html">activerdf.string</a>
	</li>

	<li>
		<a href="../modules/activerdf.table.html">activerdf.table</a>
	</li>

	<li><strong>activerdf_rdflite.RDFLite</strong></li>
	
	<li>
		<a href="../modules/activerdf_sparql.SparqlAdapter.html">activerdf_sparql.SparqlAdapter</a>
	</li>

</ul>



<!-- File list -->






</div><!-- id="navigation" -->

<div id="content">

<h1>Module <code>activerdf_rdflite.RDFLite</code></h1>

<p>Lua RDFLite is a small RDF datastore, based on sqlite3. Its a Lua version of rdflite for ruby. It can be used as a  datastore for Lua ActiveRDF: it acts as a adapter for ActiveRDF. Lua RDFLite does not scale well for large datasets, but is very fast for small ones. It supports the full ActiveRDF query grammar (basically, select/distinct/count with arbitrary joins in the where clauses). Unlike ruby RDFLite, Lua RDFLite does not offers full-text search over the literals yet. <br><br>RDFLite is a class (simulated by <a href="http://loop.luaforge.net" target="_blank">LOOP</a>). Every function that have the parameter <em>self</em>, is a function of instance of the class RDFLite. So it can be called using <code>obj:func()</code> or <code>RDFLite.func(obj)</code>.<br></p>



<p><small><b>Release:</b> $Id$ </small></p>



<h2>Functions</h2>
<table class="function_list">

	<tr>
	<td class="name" nowrap><a href="#add">add</a>&nbsp;(self, s, p, o, c)</td>
	<td class="summary">adds triple(s,p,o) to datastore.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#add_ntriples">add_ntriples</a>&nbsp;(self, ntriples, context)</td>
	<td class="summary">adds ntriples from given context into datastore.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#clear">clear</a>&nbsp;(self)</td>
	<td class="summary">deletes all triples from datastore.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#close">close</a>&nbsp;(self)</td>
	<td class="summary">close adapter and remove it from the ConnectionPool.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#delete">delete</a>&nbsp;(self, s, p, o, c)</td>
	<td class="summary">deletes triple(s,p,o,c) from datastore.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#dump">dump</a>&nbsp;(self)</td>
	<td class="summary">returns all triples in the datastore.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#flush">flush</a>&nbsp;(self)</td>
	<td class="summary">flushes openstanding changes to underlying sqlite3.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#load">load</a>&nbsp;(self, location)</td>
	<td class="summary">loads triples from file in ntriples format.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#new">new</a>&nbsp;(params)</td>
	<td class="summary">instantiates RDFLite database.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#query">query</a>&nbsp;(self, query)</td>
	<td class="summary">executes ActiveRDF query on datastore.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#size">size</a>&nbsp;(self)</td>
	<td class="summary">returns the number of triples in the datastore.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#translate">translate</a>&nbsp;(self, query)</td>
	<td class="summary">translates ActiveRDF query into internal sqlite query string.</td>
	</tr>

</table>






<br/>
<br/>



<h2><a name="functions"></a>Functions</h2>
<dl class="function">



<dt><a name="add"></a><strong>add</strong>&nbsp;(self, s, p, o, c)</dt>
<dd>
adds triple(s,p,o) to datastore. s,p must be resources (instance of RDFS.Resource), o can be primitive data or resource.


<h3>Parameters</h3>
<ul>
	
	<li>
	  self: 
	</li>
	
	<li>
	  s: subject
	</li>
	
	<li>
	  p: predicate
	</li>
	
	<li>
	  o: object
	</li>
	
	<li>
	  c: context
	</li>
	
</ul>




<h3>Usage:</h3>
<code> john = Person.new 'http://www.exemple.org/john'<br> age = Resource 'foaf:age'<br> db:add(john, age, "27") </code>





</dd>




<dt><a name="add_ntriples"></a><strong>add_ntriples</strong>&nbsp;(self, ntriples, context)</dt>
<dd>
adds ntriples from given context into datastore.


<h3>Parameters</h3>
<ul>
	
	<li>
	  self: 
	</li>
	
	<li>
	  ntriples: a string of ntriples
	</li>
	
	<li>
	  context: a string for context
	</li>
	
</ul>




<h3>Usage:</h3>
<code> nt = "&lt;http://activerdf.org/test/age> &lt;http://www.w3.org/2000/01/rdf-schema#domain> &lt;http://www.w3.org/2000/01/rdf-schema#Resource>"<br> db:add_ntriples(nt) </code>





</dd>




<dt><a name="clear"></a><strong>clear</strong>&nbsp;(self)</dt>
<dd>
deletes all triples from datastore.


<h3>Parameters</h3>
<ul>
	
	<li>
	  self: 
	</li>
	
</ul>




<h3>Usage:</h3>
<code>db:clear()</code>





</dd>




<dt><a name="close"></a><strong>close</strong>&nbsp;(self)</dt>
<dd>
close adapter and remove it from the ConnectionPool.


<h3>Parameters</h3>
<ul>
	
	<li>
	  self: 
	</li>
	
</ul>




<h3>Usage:</h3>
<code>db:close()</code>





</dd>




<dt><a name="delete"></a><strong>delete</strong>&nbsp;(self, s, p, o, c)</dt>
<dd>
deletes triple(s,p,o,c) from datastore.


<h3>Parameters</h3>
<ul>
	
	<li>
	  self: 
	</li>
	
	<li>
	  s: subject
	</li>
	
	<li>
	  p: predicate
	</li>
	
	<li>
	  o: object
	</li>
	
	<li>
	  c: context
	</li>
	
</ul>




<h3>Usage:</h3>
Strings starting with ? parameters match anything: <code>db:delete('?s','?p','?o')</code> will delete all triples.<br> You can specify a context to limit deletion to that context:<br> <code>db:delete('?s','?p','?o', 'http://context')</code> will delete all triples with that context.





</dd>




<dt><a name="dump"></a><strong>dump</strong>&nbsp;(self)</dt>
<dd>
returns all triples in the datastore.


<h3>Parameters</h3>
<ul>
	
	<li>
	  self: 
	</li>
	
</ul>




<h3>Usage:</h3>
<code>db:dump()</code>





</dd>




<dt><a name="flush"></a><strong>flush</strong>&nbsp;(self)</dt>
<dd>
flushes openstanding changes to underlying sqlite3.


<h3>Parameters</h3>
<ul>
	
	<li>
	  self: 
	</li>
	
</ul>




<h3>Usage:</h3>
<code>db:flush</code>





</dd>




<dt><a name="load"></a><strong>load</strong>&nbsp;(self, location)</dt>
<dd>
loads triples from file in ntriples format.


<h3>Parameters</h3>
<ul>
	
	<li>
	  self: 
	</li>
	
	<li>
	  location: path to file
	</li>
	
</ul>




<h3>Usage:</h3>
<code>db:load('/path/to/file.nt')</code>





</dd>




<dt><a name="new"></a><strong>new</strong>&nbsp;(params)</dt>
<dd>
instantiates RDFLite database.


<h3>Parameters</h3>
<ul>
	
	<li>
	  params: a table with the following fields: <br> location = filepath (defaults to memory)<br> keyword = true/false (defaults to false)<br> pidx, oidx, etc. = true/false (enable/disable these indices)<br>
	</li>
	
</ul>




<h3>Usage:</h3>
<code>db = RDFLite.new { location = '/path/to/file.db' }</code>





</dd>




<dt><a name="query"></a><strong>query</strong>&nbsp;(self, query)</dt>
<dd>
executes ActiveRDF query on datastore.


<h3>Parameters</h3>
<ul>
	
	<li>
	  self: 
	</li>
	
	<li>
	  query: 
	</li>
	
</ul>




<h3>Usage:</h3>
<code> q = Query.new():select('?s', '?p', '?o')<br> db:query(q) </code>





</dd>




<dt><a name="size"></a><strong>size</strong>&nbsp;(self)</dt>
<dd>
returns the number of triples in the datastore. (incl. possible duplicates).


<h3>Parameters</h3>
<ul>
	
	<li>
	  self: 
	</li>
	
</ul>




<h3>Usage:</h3>
<code>db:size()</code>





</dd>




<dt><a name="translate"></a><strong>translate</strong>&nbsp;(self, query)</dt>
<dd>
translates ActiveRDF query into internal sqlite query string.


<h3>Parameters</h3>
<ul>
	
	<li>
	  self: 
	</li>
	
	<li>
	  query: 
	</li>
	
</ul>








</dd>


</dl>






</div> <!-- id="content" -->

</div> <!-- id="main" -->

<div id="about">
	<p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
</div> <!-- id="about" -->

</div> <!-- id="container" -->	
</body>
</html>
